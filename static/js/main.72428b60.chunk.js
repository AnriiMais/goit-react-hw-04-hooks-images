(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__RRLrN",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2a_qP"}},38:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1URS8"}},39:function(e,t,a){e.exports={Button:"Button_Button__2YPDZ"}},46:function(e,t,a){},48:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1BcXo",SearchForm:"Searchbar_SearchForm__23JA-",SearchFormButton:"Searchbar_SearchFormButton__1wfoW",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__CHIEn",SearchFormInput:"Searchbar_SearchFormInput__22l61"}},70:function(e,t,a){"use strict";a.r(t);var r,n,o=a(0),c=a.n(o),l=a(5),s=a.n(l),i=(a(46),a(19)),u=a(4),m=a(13),b=(a(47),a(48),a(30)),j=a(2),h=a(31),d=a(1),g=j.a.div(r||(r=Object(b.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate (-50%, -50%);\n"]))),f=function(){return Object(d.jsx)(g,{children:Object(d.jsx)(h.a,{})})},O=["title","titleId"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p.apply(this,arguments)}function y(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function v(e,t){var a=e.title,r=e.titleId,c=y(e,O);return o.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},c),void 0===a?o.createElement("title",{id:r},"Close"):a?o.createElement("title",{id:r},a):null,n||(n=o.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var I=o.forwardRef(v),_=(a.p,a(8)),x=a.n(_),S=document.querySelector("#modal-root");function w(e){var t=e.onClickToggle,a=e.modalImageUrl,r=function(e){"Escape"===e.code&&t()};return Object(o.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]),Object(l.createPortal)(Object(d.jsx)("div",{className:x.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(d.jsxs)("div",{className:x.a.modal,children:[Object(d.jsx)("img",{src:a,alt:"",className:x.a.modalImage}),Object(d.jsx)("button",{type:"button",className:x.a.modalBtnClose,onClick:t,children:Object(d.jsx)(I,{})})]})}),S)}var C=a(35),F=a(14),k=a.n(F);k.a.defaults.baseURL="https://pixabay.com/api/";var B=function(e){var t,a=e.query,r=e.page;return t={q:a,page:r,image_type:"photo",orientation:"horizontal",per_page:12},k.a.defaults.params=Object(C.a)({key:"24241606-9742d85c442620a082ce02ff4"},t),k.a.get().then((function(e){return e.status>=200&&e.status<399?e.data:Promise.reject(new Error("Oops something wrong..."))})).catch((function(e){throw e}))},E=a(12),N=a(36),M=a(37),G=a(41),q=a(40),L=a(6),P=a.n(L),T=function(e){Object(G.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(N.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleQueryForm=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(E.a)({},r,n))},e.submitQueryForm=function(t){t.preventDefault(),""!==e.state.query.trim()?(e.props.getOnSubmit(e.state.query.toLowerCase()),e.setState({query:""})):m.b.warn("Please enter text",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},e}return Object(M.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(d.jsx)("header",{className:P.a.Searchbar,children:Object(d.jsxs)("form",{className:P.a.SearchForm,onSubmit:this.submitQueryForm,children:[Object(d.jsx)("button",{type:"submit",className:P.a.SearchFormButton,children:Object(d.jsx)("span",{className:P.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:P.a.SearchFormInput,type:"text",autoComplete:"off",name:"query",value:e,autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleQueryForm})]})})}}]),a}(o.Component),R=a(38),U=a.n(R),Q=a(18),D=a.n(Q);function H(e){var t=e.imgData,a=e.onClickModal,r=e.setModalImage,n=t.webformatURL,o=t.largeImageURL;return Object(d.jsx)("li",{className:D.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:n,alt:"thumb",className:D.a.ImageGalleryItemImage,onClick:function(){a(),r(o)}})})}function A(e){var t=e.data,a=e.handleToggleForImage,r=e.setModalImage;return Object(d.jsx)("ul",{className:U.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(H,{imgData:e,onClickModal:a,setModalImage:r},e.id)}))})}var J=a(39),z=a.n(J);function Z(e){var t=e.onClickBtn;return Object(d.jsx)("button",{className:z.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})}function K(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],n=Object(o.useState)(!1),c=Object(u.a)(n,2),l=c[0],s=c[1],b=Object(o.useState)([]),j=Object(u.a)(b,2),h=j[0],g=j[1],O=Object(o.useState)(1),p=Object(u.a)(O,2),y=p[0],v=p[1],I=Object(o.useState)(""),_=Object(u.a)(I,2),x=_[0],S=_[1],C=Object(o.useState)(null),F=Object(u.a)(C,2),k=F[0],E=F[1],N=Object(o.useState)(""),M=Object(u.a)(N,2),G=M[0],q=M[1],L=Object(o.useState)(0),P=Object(u.a)(L,2),R=P[0],U=P[1];Object(o.useEffect)((function(){""!==x&&B({query:x,page:y}).catch((function(e){return E(e)})).then((function(e){var t=e.hits,a=e.total;U(a),g((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).finally((function(){return s(!1)}))}),[x,y]),Object(o.useEffect)((function(){1!==y&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[y,h]);var Q=function(e){r((function(e){return!e}))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(T,{getOnSubmit:function(e){x!==e&&(S(e),g([]),v(1),s(!0))}}),k&&Object(d.jsx)("h1",{children:k.message}),a&&Object(d.jsx)(w,{onClickToggle:Q,modalImageUrl:G}),l&&Object(d.jsx)(f,{}),h&&h.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(A,{data:h,handleToggleForImage:Q,setModalImage:function(e){q(e)}}),h.length<R&&Object(d.jsx)(Z,{onClickBtn:function(){s(!0),v((function(e){return e+1}))}})]}),Object(d.jsx)(m.a,{})]})}s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(K,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={overlay:"Modal_overlay__9TKbx",modal:"Modal_modal__3wObZ",modalImage:"Modal_modalImage__2HMbF",modalBtnClose:"Modal_modalBtnClose__1tT9Q"}}},[[70,1,2]]]);
//# sourceMappingURL=main.72428b60.chunk.js.map